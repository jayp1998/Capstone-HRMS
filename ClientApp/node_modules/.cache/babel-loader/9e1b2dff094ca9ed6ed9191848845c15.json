{"ast":null,"code":"var _jsxFileName = \"E:\\\\Capstone-HRMS\\\\ClientApp\\\\src\\\\components\\\\login\\\\loginPage.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport './login.css';\nimport logo from './logo.png';\nexport class loginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.validateForm = this.validateForm.bind(this);\n    this.adminButtonClicked = this.adminButtonClicked.bind(this);\n    this.employeeButtonClicked = this.employeeButtonClicked.bind(this);\n    this.setEmail = this.setEmail.bind(this);\n    this.setPassword = this.setPassword.bind(this);\n    this.state = {\n      email: '',\n      password: '',\n      errors: {}\n    };\n  }\n\n  setEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  setPassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  validateForm(e) {\n    return this.state.email.length > 0 && this.state.password.length > 0;\n  }\n\n  adminButtonClicked(e) {\n    e.preventDefault();\n    let loginObject = {\n      email: this.state.email,\n      password: this.state.password\n    };\n    axios.post(\"api/Users/token/\", loginObject).then(result => {\n      if (result.status === 200) {\n        console.log(result);\n        this.props.history.push(\"/adminIndex\");\n      } else {\n        this.props.history.push(\"/\");\n        console.log(\"Login Failed\");\n      }\n\n      console.log(result);\n    });\n  }\n\n  employeeButtonClicked(e) {\n    e.preventDefault();\n    let loginObject = {\n      username: this.state.username,\n      password: this.state.password\n    };\n    axios.post(\"api/Users/token/\", loginObject).then(result => {\n      if (result.status === 200) {\n        localStorage.setItem('currentUser', JSON.stringify(result.data));\n        console.log(\"Login Completed\");\n        this.props.history.push(\"/empIndex\");\n      } else {\n        this.props.history.push(\"/\");\n        console.log(\"Login Failed\");\n      }\n\n      console.log(result);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"limiter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-login100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap-login100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login100-pic js-tilt\",\n      \"data-tilt\": true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"login100-form\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"login100-form-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    }, \"Member Login\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap-input100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input100\",\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"Email\",\n      value: this.state.email,\n      onChange: this.setEmail,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap-input100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input100\",\n      type: \"password\",\n      name: \"pass\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      onChange: this.setPassword,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-login100-form-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"employeeButton\",\n      className: \"login100-form-btn\",\n      onClick: this.employeeButtonClicked,\n      disabled: !this.validateForm(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 37\n      }\n    }, \"Login\")))))));\n  }\n\n}\nloginPage.contextTypes = {\n  router: PropTypes.object\n};","map":{"version":3,"sources":["E:/Capstone-HRMS/ClientApp/src/components/login/loginPage.js"],"names":["React","Component","axios","PropTypes","logo","loginPage","constructor","props","validateForm","bind","adminButtonClicked","employeeButtonClicked","setEmail","setPassword","state","email","password","errors","e","setState","target","value","length","preventDefault","loginObject","post","then","result","status","console","log","history","push","username","localStorage","setItem","JSON","stringify","data","render","handleSubmit","contextTypes","router","object"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport './login.css'\r\nimport logo from './logo.png';\r\n\r\n\r\nexport class loginPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.validateForm = this.validateForm.bind(this);\r\n        this.adminButtonClicked = this.adminButtonClicked.bind(this);\r\n        this.employeeButtonClicked = this.employeeButtonClicked.bind(this);\r\n        this.setEmail = this.setEmail.bind(this);\r\n        this.setPassword = this.setPassword.bind(this);\r\n\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            errors: {}\r\n        }\r\n    }\r\n\r\n    static contextTypes = {\r\n        router: PropTypes.object,\r\n    }\r\n\r\n\r\n    setEmail(e) {\r\n        this.setState({\r\n            email: e.target.value\r\n        });\r\n    }\r\n\r\n    setPassword(e) {\r\n        this.setState({\r\n            password: e.target.value\r\n        });\r\n    }\r\n\r\n    validateForm(e) {\r\n        return this.state.email.length > 0 && this.state.password.length > 0;\r\n    }\r\n\r\n\r\n\r\n    adminButtonClicked(e) {\r\n        e.preventDefault();\r\n        let loginObject = {\r\n            email: this.state.email,\r\n            password: this.state.password,\r\n        }\r\n        axios.post(\"api/Users/token/\", loginObject).then(result => {\r\n            if (result.status === 200) {\r\n                console.log(result);\r\n                this.props.history.push(\"/adminIndex\");\r\n            } else {\r\n                this.props.history.push(\"/\");\r\n                console.log(\"Login Failed\");\r\n            }\r\n            console.log(result);\r\n        })\r\n    }\r\n\r\n    employeeButtonClicked(e) {\r\n        e.preventDefault();\r\n        let loginObject = {\r\n            username: this.state.username,\r\n            password: this.state.password,\r\n        }\r\n        axios.post(\"api/Users/token/\", loginObject).then(result => {\r\n            if (result.status === 200) {\r\n                localStorage.setItem('currentUser', JSON.stringify(result.data));\r\n                console.log(\"Login Completed\");\r\n                this.props.history.push(\"/empIndex\");\r\n            } else {\r\n                this.props.history.push(\"/\");\r\n                console.log(\"Login Failed\");\r\n            }\r\n            console.log(result);\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <section>\r\n                <div className=\"limiter\">\r\n                    <div className=\"container-login100\">\r\n                        <div className=\"wrap-login100\">\r\n                            <div className=\"login100-pic js-tilt\" data-tilt>\r\n                                <img src={logo}></img>\r\n                            </div>\r\n                            <form className=\"login100-form\" onSubmit={this.handleSubmit}>\r\n                                <span className=\"login100-form-title\">\r\n                                    Member Login<br />\r\n                                </span>\r\n                                <div className=\"wrap-input100\">\r\n                                    <input\r\n                                        className=\"input100\"\r\n                                        type=\"email\"\r\n                                        name=\"email\"\r\n                                        placeholder=\"Email\"\r\n                                        value={this.state.email}\r\n                                        onChange={this.setEmail}\r\n                                        required />\r\n                                </div>\r\n                                <div className=\"wrap-input100\" >\r\n                                    <input\r\n                                        className=\"input100\"\r\n                                        type=\"password\"\r\n                                        name=\"pass\"\r\n                                        placeholder=\"Password\"\r\n                                        value={this.state.password}\r\n                                        onChange={this.setPassword}\r\n                                        required />\r\n                                </div>\r\n                                <div className=\"container-login100-form-btn\">\r\n                                    <button\r\n                                        id=\"employeeButton\"\r\n                                        className=\"login100-form-btn\"\r\n                                        onClick={this.employeeButtonClicked}\r\n                                        disabled={!this.validateForm()}>\r\n                                        Login\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}